
#ifndef SENSOR_TEMP_HUMID_H
	#define SENSOR_TEMP_HUMID_H
#endif

#ifndef ADAFRUIT_SHT31_H
	#include "Adafruit_SHT31.h"
#endif

#ifndef TIME_FUNCS_H
    #include "../DateTime/time_funcs.h"
#endif

#ifndef GLOBALS_H
    #include "../globals.h"
#endif

#define SHT31_I2C_ADDR 0x44

#define NUM_MINS_IN_DAY 1440
#define TEMP_HUMID_ARR_SIZE NUM_MINS_IN_DAY

// ========================================= //
// For video making
float temperature_array[TEMP_HUMID_ARR_SIZE] = {22.16, 22.13, 22.13, 22.16, 22.17, 22.18, 22.18, 22.23, 22.23, 22.23, 22.2, 22.23, 22.21, 22.23, 22.24, 22.25, 22.23, 22.25, 22.25, 22.24, 22.24, 22.24, 22.29, 22.27, 22.27, 22.25, 22.27, 22.24, 22.25, 22.27, 22.24, 22.25, 22.25, 22.29, 22.24, 22.25, 22.0, 21.82, 21.74, 21.65, 21.61, 21.51, 21.51, 21.44, 21.47, 21.44, 21.45, 21.38, 21.38, 21.38, 21.35, 21.32, 21.31, 21.31, 21.28, 21.3, 21.3, 21.3, 21.3, 21.27, 21.3, 21.3, 21.26, 21.26, 21.24, 21.21, 21.24, 21.23, 21.23, 21.23, 21.21, 21.23, 21.21, 21.2, 21.15, 21.19, 21.2, 21.15, 21.15, 21.13, 21.15, 21.14, 21.14, 21.13, 21.14, 21.11, 21.13, 21.08, 21.07, 21.08, 21.08, 21.08, 21.08, 21.08, 21.08, 21.08, 21.07, 21.07, 21.07, 21.04, 21.01, 21.04, 21.04, 21.03, 21.04, 21.01, 21.04, 21.04, 21.06, 21.06, 21.03, 21.04, 21.04, 21.01, 21.01, 21.01, 21.01, 20.99, 21.01, 21.0, 20.96, 20.97, 20.97, 20.94, 20.94, 20.94, 20.96, 20.93, 20.93, 20.9, 20.93, 20.93, 20.93, 20.92, 20.92, 20.9, 20.92, 20.9, 20.9, 20.9, 20.92, 20.96, 20.93, 20.94, 20.94, 20.93, 20.93, 20.96, 20.92, 20.94, 20.9, 20.9, 20.89, 20.93, 20.92, 20.87, 20.87, 20.86, 20.86, 20.87, 20.86, 20.83, 20.82, 20.83, 20.83, 20.84, 20.83, 20.86, 20.83, 20.84, 20.83, 20.83, 20.89, 20.9, 20.93, 21.06, 21.17, 21.27, 21.32, 21.38, 21.41, 21.48, 21.54, 21.55, 21.59, 21.61, 21.65, 21.68, 21.68, 21.68, 21.69, 21.71, 21.72, 21.71, 21.72, 21.75, 21.78, 21.74, 21.74, 21.78, 21.76, 21.76, 21.78, 21.76, 21.75, 21.78, 21.76, 21.78, 21.79, 21.79, 21.82, 21.81, 21.79, 21.82, 21.82, 21.81, 21.81, 21.78, 21.81, 21.78, 21.81, 21.78, 21.75, 21.76, 21.78, 21.78, 21.76, 21.76, 21.78, 21.75, 21.72, 21.75, 21.76, 21.72, 21.76, 21.72, 21.75, 21.75, 21.71, 21.71, 21.71, 21.65, 21.65, 21.63, 21.65, 21.65, 21.68, 21.69, 21.68, 21.68, 21.71, 21.69, 21.63, 21.66, 21.68, 21.65, 21.62, 21.63, 21.63, 21.61, 21.63, 21.62, 21.61, 21.58, 21.58, 21.54, 21.54, 21.52, 21.52, 21.52, 21.26, 21.1, 21.03, 20.94, 20.89, 20.87, 20.83, 20.79, 20.8, 20.76, 20.75, 20.76, 20.71, 20.68, 20.69, 20.66, 20.65, 20.65, 20.63, 20.62, 20.61, 20.59, 20.59, 20.59, 20.61, 20.56, 20.56, 20.55, 20.56, 20.55, 20.53, 20.53, 20.53, 20.53, 20.51, 20.51, 20.51, 20.51, 20.48, 20.49, 20.49, 20.49, 20.46, 20.48, 20.44, 20.49, 20.48, 20.45, 20.46, 20.48, 20.45, 20.42, 20.42, 20.42, 20.42, 20.42, 20.42, 20.39, 20.41, 20.38, 20.38, 20.35, 20.34, 20.34, 20.34, 20.34, 20.31, 20.32, 20.31, 20.28, 20.29, 20.32, 20.31, 20.29, 20.28, 20.31, 20.29, 20.28, 20.25, 20.28, 20.27, 20.27, 20.24, 20.27, 20.24, 20.27, 20.25, 20.24, 20.2, 20.21, 20.24, 20.22, 20.24, 20.24, 20.21, 20.18, 20.2, 20.17, 20.2, 20.21, 20.2, 20.2, 20.2, 20.18, 20.18, 20.18, 20.17, 20.14, 20.16, 20.16, 20.14, 20.16, 20.11, 20.11, 20.1, 20.14, 20.14, 20.1, 20.1, 20.13, 20.1, 20.1, 20.08, 20.08, 20.07, 20.07, 20.08, 20.08, 20.07, 20.06, 20.06, 20.06, 20.06, 20.07, 20.11, 20.1, 20.13, 20.11, 20.1, 20.08, 20.11, 20.08, 20.08, 20.07, 20.04, 20.07, 20.06, 20.08, 20.03, 20.07, 20.06, 20.04, 20.07, 20.08, 20.06, 20.06, 20.06, 20.04, 20.04, 20.04, 20.01, 20.03, 20.01, 20.03, 20.03, 20.01, 20.01, 20.01, 20.0, 19.96, 19.98, 19.97, 19.97, 19.97, 19.96, 19.96, 19.93, 19.94, 19.91, 19.91, 19.87, 19.93, 19.91, 19.91, 19.91, 19.91, 19.89, 19.9, 19.9, 19.89, 19.87, 19.86, 19.87, 19.86, 19.86, 19.86, 19.83, 19.84, 19.86, 19.84, 19.81, 19.81, 19.84, 19.83, 19.8, 19.79, 19.8, 19.8, 19.77, 19.8, 19.77, 19.77, 19.79, 19.74, 19.87, 19.98, 20.08, 20.17, 20.27, 20.32, 20.36, 20.44, 20.44, 20.49, 20.53, 20.57, 20.61, 20.59, 20.61, 20.61, 20.63, 20.63, 20.63, 20.65, 20.69, 20.68, 20.72, 20.72, 20.76, 20.76, 20.76, 20.76, 20.79, 20.82, 20.84, 20.84, 20.84, 20.86, 20.84, 20.87, 20.86, 20.89, 20.87, 20.84, 20.89, 20.89, 20.92, 20.93, 20.96, 20.97, 21.01, 21.03, 21.04, 21.06, 21.07, 21.07, 21.1, 21.1, 21.13, 21.13, 21.14, 21.15, 21.19, 21.2, 21.2, 21.2, 21.23, 21.2, 21.23, 21.26, 21.24, 21.24, 21.24, 21.23, 21.24, 21.23, 21.26, 21.23, 21.24, 21.23, 21.24, 21.24, 21.24, 21.24, 21.23, 21.24, 21.23, 21.23, 21.26, 21.23, 21.23, 21.23, 21.24, 21.24, 21.23, 21.21, 21.23, 21.21, 21.21, 21.2, 21.21, 21.2, 21.2, 21.19, 21.19, 21.21, 21.19, 21.19, 21.19, 21.17, 21.19, 21.17, 21.17, 21.17, 21.2, 21.19, 21.14, 21.17, 21.14, 21.17, 21.15, 21.15, 21.14, 21.15, 21.15, 21.15, 21.17, 21.15, 21.14, 21.17, 21.15, 21.17, 21.17, 21.15, 21.19, 21.17, 21.19, 21.21, 21.2, 21.2, 21.2, 21.19, 21.17, 21.2, 21.17, 21.19, 21.17, 21.19, 21.15, 21.17, 21.17, 21.15, 21.19, 21.21, 21.19, 21.2, 21.21, 21.24, 21.24, 21.28, 21.31, 21.34, 21.38, 21.42, 21.47, 21.51, 21.51, 21.55, 21.59, 21.61, 21.68, 21.78, 22.64, 22.64, 22.62, 22.65, 22.67, 22.71, 22.71, 22.65, 22.36, 22.32, 22.07, 21.95, 21.76, 21.75, 21.57, 21.45, 21.37, 21.27, 21.19, 21.15, 21.11, 21.01, 20.97, 20.89, 20.89, 20.9, 21.1, 21.23, 21.34, 21.44, 21.54, 21.61, 21.69, 21.76, 21.81, 21.86, 21.95, 21.93, 22.0, 22.06, 22.1, 22.13, 22.17, 22.16, 22.18, 22.21, 22.29, 22.3, 22.33, 22.33, 22.34, 22.39, 22.39, 22.44, 22.45, 22.5, 22.54, 22.6, 22.68, 22.73, 22.75, 22.81, 22.82, 22.84, 22.88, 22.91, 22.92, 22.91, 22.91, 22.91, 22.91, 22.91, 22.91, 22.92, 22.87, 22.82, 22.81, 22.81, 22.75, 22.76, 22.73, 22.69, 22.67, 22.62, 22.64, 22.62, 22.58, 22.55, 22.55, 22.6, 22.58, 22.58, 22.57, 22.6, 22.61, 22.61, 22.64, 22.64, 22.64, 22.68, 22.67, 22.72, 22.69, 22.72, 22.71, 22.72, 22.73, 22.72, 22.75, 22.78, 22.79, 22.78, 22.78, 22.81, 22.79, 22.84, 22.84, 22.82, 22.84, 22.84, 22.84, 22.82, 22.84, 22.82, 22.84, 22.82, 22.84, 22.85, 22.87, 22.87, 22.87, 22.88, 22.84, 22.85, 22.84, 22.82, 22.81, 22.78, 22.75, 22.73, 22.72, 22.67, 22.64, 22.65, 22.61, 22.57, 22.55, 22.54, 22.5, 22.48, 22.47, 22.43, 22.4, 22.4, 22.37, 22.34, 22.33, 22.32, 22.32, 22.33, 22.3, 22.34, 22.34, 22.36, 22.39, 22.4, 22.4, 22.4, 22.39, 22.41, 22.41, 22.44, 22.45, 22.44, 22.45, 22.48, 22.48, 22.5, 22.5, 22.54, 22.51, 22.54, 22.51, 22.55, 22.55, 22.57, 22.58, 22.58, 22.6, 22.58, 22.58, 22.61, 22.62, 22.61, 22.62, 22.62, 22.61, 22.58, 22.52, 22.54, 22.51, 22.51, 22.47, 22.47, 22.43, 22.44, 22.41, 22.37, 22.36, 22.33, 22.34, 22.27, 22.25, 22.24, 22.21, 22.23, 22.21, 22.23, 22.24, 22.24, 22.24, 22.29, 22.29, 22.3, 22.3, 22.33, 22.33, 22.36, 22.37, 22.36, 22.37, 22.4, 22.4, 22.41, 22.41, 22.41, 22.47, 22.47, 22.48, 22.48, 22.5, 22.5, 22.54, 22.52, 22.55, 22.55, 22.57, 22.58, 22.61, 22.62, 22.64, 22.62, 22.64, 22.67, 22.64, 22.64, 22.62, 22.61, 22.58, 22.58, 22.57, 22.57, 22.51, 22.51, 22.48, 22.48, 22.41, 22.4, 22.37, 22.37, 22.34, 22.33, 22.29, 22.3, 22.25, 22.24, 22.24, 22.18, 22.17, 22.14, 22.16, 22.17, 22.18, 22.17, 22.21, 22.18, 22.24, 22.24, 22.25, 22.27, 22.3, 22.32, 22.33, 22.34, 22.37, 22.4, 22.41, 22.45, 22.43, 22.44, 22.47, 22.45, 22.47, 22.47, 22.47, 22.47, 22.44, 22.43, 22.4, 22.41, 22.36, 22.34, 22.32, 22.3, 22.3, 22.29, 22.24, 22.24, 22.2, 22.21, 22.18, 22.18, 22.16, 22.12, 22.09, 22.09, 22.07, 22.12, 22.1, 22.1, 22.13, 22.14, 22.14, 22.17, 22.18, 22.21, 22.23, 22.24, 22.25, 22.25, 22.25, 22.24, 22.23, 22.23, 22.2, 22.21, 22.17, 22.18, 22.16, 22.16, 22.1, 22.07, 22.07, 22.07, 22.03, 21.99, 21.97, 21.97, 21.96, 21.92, 21.9, 21.92, 21.89, 21.88, 21.85, 21.85, 21.81, 21.82, 21.83, 21.85, 21.86, 21.86, 21.89, 21.92, 21.92, 21.95, 21.96, 21.96, 22.02, 22.02, 22.03, 22.02, 22.05, 22.05, 22.06, 22.09, 22.09, 22.1, 22.09, 22.12, 22.14, 22.14, 22.16, 22.13, 22.13, 22.12, 22.12, 22.13, 22.1, 22.07, 22.03, 22.03, 22.0, 22.0, 21.97, 21.95, 21.9, 21.9, 21.89, 21.86, 21.83, 21.85, 21.86, 21.88, 21.89, 21.89, 21.92, 21.93, 21.95, 22.0, 22.02, 21.99, 22.02, 22.05, 22.05, 22.09, 22.05, 22.06, 22.06, 22.06, 22.05, 22.03, 22.05, 22.03, 22.0, 21.99, 21.96, 21.96, 21.97, 21.92, 21.9, 21.89, 21.88, 21.88, 21.83, 21.79, 21.78, 21.75, 21.69, 21.72, 21.74, 21.72, 21.74, 21.74, 21.76, 21.79, 21.79, 21.79, 21.83, 21.85, 21.85, 21.85, 21.89, 21.92, 21.9, 21.93, 21.92, 21.86, 21.86, 21.83, 21.85, 21.79, 21.79, 21.78, 21.75, 21.74, 21.72, 21.71, 21.69, 21.66, 21.63, 21.65, 21.62, 21.62, 21.58, 21.59, 21.62, 21.57, 21.59, 21.61, 21.63, 21.63, 21.65, 21.65, 21.65, 21.65, 21.69, 21.72, 21.71, 21.75, 21.75, 21.75, 21.78, 21.79, 21.79, 21.81, 21.83, 21.82, 21.85, 21.85, 21.89, 21.86, 21.9, 21.9, 21.9, 21.93, 21.93, 21.96, 21.96, 21.96, 22.02, 22.0, 21.96, 21.96, 21.96, 21.96, 22.0, 22.0, 22.02, 22.0, 22.02, 22.0, 22.0, 22.02, 22.03, 22.02, 22.05, 22.07, 22.09, 22.07, 22.06, 22.07, 22.07, 22.09, 22.1, 22.06, 22.1, 22.1, 22.09, 22.1, 22.12, 22.09, 22.12, 22.13, 22.12, 22.13, 22.13, 22.16, 22.13, 22.16, 22.17, 22.14, 22.17, 22.17, 22.14, 22.17, 22.18, 22.17, 22.18, 22.18, 22.2, 22.18, 22.2, 22.23, 22.21, 22.23, 22.21, 22.18, 22.18, 22.17, 22.18, 22.2, 22.2, 22.2, 22.18, 22.21, 22.18, 22.21, 22.21, 22.24, 22.24, 22.25, 22.25, 22.27, 22.24, 22.25, 22.25, 22.25, 22.24, 22.27, 22.25, 22.25, 22.29, 22.24, 22.29, 22.27, 22.25, 22.25, 22.25, 22.27, 22.25, 22.24, 22.24, 22.23, 22.23, 22.23, 22.23, 22.18, 22.2, 22.21, 22.2, 22.2, 22.17, 22.18, 22.21, 22.18, 22.23, 22.23, 22.24, 22.24, 22.27, 22.29, 22.3, 22.27, 22.33, 22.36, 22.39, 22.36, 22.36, 22.36, 22.36, 22.4, 22.41, 22.4, 22.41, 22.41, 22.45, 22.41, 22.43, 22.44, 22.41, 22.44, 22.44, 22.45, 22.48, 22.47, 22.47, 22.45, 22.48, 22.51, 22.48, 22.48, 22.48, 22.47, 22.47, 22.45, 22.45, 22.44, 22.43, 22.44, 22.43, 22.41, 22.41, 22.39, 22.4, 22.39, 22.39, 22.39, 22.36, 22.37, 22.34, 22.33, 22.33, 22.32, 22.32, 22.3, 22.29, 22.29, 22.27, 22.25, 22.3, 22.29, 22.29, 22.29, 22.27, 22.29, 22.3, 22.29, 22.27, 22.24, 22.24, 22.24, 22.27, 22.23, 22.21, 22.21, 22.21, 22.23, 22.24, 22.21, 22.23, 22.21, 22.2, 22.23, 22.21, 22.21, 22.17, 22.18, 22.18, 22.18, 22.2, 22.2, 22.23, 22.24, 22.24, 22.25, 22.27, 22.29, 22.3, 22.29, 22.29, 22.3, 22.32, 22.29, 22.3, 22.3, 22.3, 22.32, 22.29, 22.29, 22.32, 22.33, 22.29, 22.29, 22.32, 22.3, 22.27, 22.25, 22.25, 22.23, 22.25, 22.24, 22.24, 22.24, 22.23, 22.21, 22.25, 22.25, 22.25, 22.23, 22.23, 22.21, 22.23, 22.23, 22.2, 22.2, 22.21, 22.21, 22.2, 22.18, 22.17, 22.18, 22.17, 22.18, 22.18, 22.16, 22.18, 22.17, 22.14, 22.14, 22.16, 22.14, 22.16, 22.14, 22.14, 22.17, 22.12, 22.12};
float humidity_array[TEMP_HUMID_ARR_SIZE] = {39.17, 39.89, 40.04, 40.28, 40.57, 40.47, 40.58, 40.67, 40.67, 40.67, 40.74, 40.75, 40.69, 40.69, 40.67, 40.68, 40.71, 40.66, 40.69, 40.68, 40.66, 40.65, 40.62, 40.56, 40.63, 40.58, 40.59, 40.66, 40.58, 40.61, 40.58, 40.51, 40.53, 40.51, 40.5, 40.51, 41.12, 41.51, 41.75, 41.91, 41.98, 42.13, 42.14, 42.23, 42.17, 42.19, 42.19, 42.26, 42.24, 42.27, 42.34, 42.32, 42.36, 42.32, 42.37, 42.33, 42.29, 42.29, 42.31, 42.28, 42.26, 42.33, 42.33, 42.32, 42.3, 42.31, 42.33, 42.23, 42.3, 42.26, 42.23, 42.26, 42.25, 42.23, 42.25, 42.25, 42.23, 42.28, 42.26, 42.27, 42.29, 42.24, 42.25, 42.3, 42.26, 42.25, 42.26, 42.27, 42.29, 42.29, 42.28, 42.32, 42.31, 42.42, 42.34, 42.34, 42.34, 42.37, 42.38, 42.44, 42.4, 42.43, 42.38, 42.46, 42.41, 42.39, 42.42, 42.43, 42.38, 42.35, 42.34, 42.36, 42.32, 42.37, 42.38, 42.39, 42.43, 42.39, 42.41, 42.33, 42.37, 42.4, 42.46, 42.4, 42.41, 42.45, 42.48, 42.4, 42.46, 42.44, 42.4, 42.42, 42.43, 42.4, 42.4, 42.39, 42.46, 42.42, 42.43, 42.44, 42.4, 42.39, 42.38, 42.4, 42.39, 42.4, 42.35, 42.38, 42.34, 42.41, 42.44, 42.45, 42.44, 42.34, 42.36, 42.36, 42.35, 42.37, 42.34, 42.32, 42.33, 42.38, 42.45, 42.41, 42.44, 42.47, 42.44, 42.46, 42.43, 42.44, 42.38, 42.51, 42.52, 42.5, 42.49, 42.24, 42.03, 41.88, 41.77, 41.66, 41.52, 41.45, 41.32, 41.26, 41.2, 41.06, 40.87, 40.72, 40.55, 40.59, 40.58, 40.58, 40.56, 40.54, 40.52, 40.46, 40.41, 40.4, 40.37, 40.35, 40.36, 40.32, 40.28, 40.3, 40.25, 40.26, 40.18, 40.14, 40.15, 40.12, 40.1, 40.06, 40.03, 40.03, 39.99, 39.95, 40.01, 40.04, 39.98, 39.95, 39.94, 39.97, 40.04, 40.0, 39.97, 39.99, 39.96, 39.9, 39.95, 39.96, 39.98, 39.91, 39.91, 39.86, 39.83, 39.82, 39.83, 39.81, 39.84, 39.81, 39.76, 39.89, 39.85, 39.86, 39.84, 39.79, 39.83, 39.75, 39.74, 39.76, 39.68, 39.65, 39.76, 39.67, 39.7, 39.71, 39.72, 39.67, 39.7, 39.63, 39.64, 39.65, 39.64, 39.66, 39.68, 39.79, 39.8, 39.73, 39.76, 39.71, 40.31, 40.51, 40.66, 40.74, 40.84, 40.84, 40.85, 40.91, 40.86, 41.0, 40.91, 40.92, 40.98, 40.95, 40.97, 40.94, 41.01, 41.03, 40.96, 40.94, 41.02, 41.0, 41.0, 41.0, 41.03, 41.09, 41.05, 41.08, 41.14, 41.06, 41.09, 41.16, 41.16, 41.14, 41.21, 41.15, 41.17, 41.15, 41.18, 41.25, 41.3, 41.32, 41.33, 41.32, 41.31, 41.36, 41.34, 41.38, 41.38, 41.36, 41.41, 41.43, 41.49, 41.44, 41.43, 41.47, 41.5, 41.48, 41.53, 41.55, 41.57, 41.55, 41.56, 41.57, 41.61, 41.58, 41.56, 41.54, 41.56, 41.5, 41.48, 41.52, 41.48, 41.48, 41.43, 41.44, 41.4, 41.35, 41.41, 41.36, 41.33, 41.28, 41.36, 41.25, 41.27, 41.25, 41.18, 41.26, 41.28, 41.19, 41.25, 41.23, 41.22, 41.23, 41.27, 41.28, 41.24, 41.28, 41.32, 41.33, 41.31, 41.36, 41.25, 41.33, 41.29, 41.37, 41.37, 41.52, 41.55, 41.46, 41.57, 41.47, 41.57, 41.54, 41.46, 41.5, 41.44, 41.47, 41.44, 41.44, 41.37, 41.41, 41.39, 41.37, 41.44, 41.33, 41.42, 41.46, 41.46, 41.46, 41.48, 41.49, 41.47, 41.51, 41.41, 41.47, 41.4, 41.39, 41.36, 41.4, 41.4, 41.41, 41.39, 41.39, 41.39, 41.39, 41.37, 41.34, 41.36, 41.31, 41.42, 41.39, 41.28, 41.29, 41.29, 41.28, 41.29, 41.14, 41.19, 41.16, 41.23, 41.2, 41.1, 41.07, 41.11, 41.09, 41.09, 41.06, 41.05, 41.07, 41.08, 41.03, 41.11, 41.12, 41.2, 41.16, 41.2, 41.2, 41.23, 41.24, 41.2, 41.16, 41.12, 41.11, 41.14, 41.06, 41.09, 41.13, 41.05, 41.04, 41.04, 41.0, 41.01, 40.99, 40.93, 40.95, 41.01, 40.97, 40.97, 41.01, 41.07, 41.11, 41.15, 41.13, 41.17, 41.16, 41.18, 41.17, 41.17, 41.17, 41.21, 41.18, 41.18, 41.18, 41.27, 40.95, 40.74, 40.54, 40.41, 40.28, 40.13, 40.09, 40.02, 39.95, 39.87, 39.82, 39.78, 39.85, 39.95, 39.97, 39.97, 39.95, 39.9, 39.83, 39.86, 39.86, 40.06, 39.96, 39.97, 39.87, 39.76, 39.73, 39.64, 39.58, 39.49, 39.47, 39.41, 39.39, 39.37, 39.34, 39.47, 39.47, 39.51, 39.6, 39.54, 39.63, 39.67, 39.59, 39.4, 39.42, 39.42, 39.45, 39.37, 39.42, 39.56, 39.44, 39.42, 39.41, 39.41, 39.37, 39.32, 39.26, 39.23, 39.29, 39.32, 39.25, 39.27, 39.15, 39.15, 39.07, 39.04, 38.95, 38.97, 38.86, 38.83, 38.78, 38.72, 38.7, 38.62, 38.62, 38.64, 38.56, 38.51, 38.43, 38.38, 38.39, 38.42, 38.37, 38.34, 38.34, 38.29, 38.3, 38.25, 38.26, 38.26, 38.25, 38.21, 38.18, 38.2, 38.21, 38.2, 38.15, 38.16, 38.16, 38.13, 38.13, 38.12, 38.08, 38.12, 38.12, 38.0, 38.07, 38.08, 38.08, 38.05, 38.07, 38.11, 38.18, 38.22, 38.22, 38.36, 38.43, 38.5, 38.51, 38.42, 38.41, 38.4, 38.43, 38.38, 38.34, 38.32, 38.34, 38.32, 38.31, 38.27, 38.28, 38.27, 38.18, 38.07, 38.07, 38.09, 38.12, 38.07, 38.07, 38.04, 38.03, 38.08, 38.13, 38.07, 38.07, 38.21, 38.23, 38.18, 38.24, 38.28, 38.28, 38.4, 38.38, 38.43, 38.46, 38.44, 38.47, 38.52, 38.48, 38.56, 38.58, 38.57, 38.54, 38.51, 38.62, 38.62, 38.52, 38.55, 36.34, 36.38, 36.37, 36.35, 36.39, 36.32, 36.6, 36.66, 36.69, 36.77, 36.85, 36.98, 36.91, 37.0, 37.13, 37.18, 37.2, 37.21, 37.33, 37.22, 37.32, 37.33, 37.4, 37.61, 38.69, 38.16, 37.84, 37.68, 37.57, 37.47, 37.38, 37.21, 37.16, 37.06, 37.0, 37.0, 36.89, 36.83, 36.76, 36.73, 36.76, 36.77, 37.0, 36.97, 36.91, 36.86, 36.79, 36.79, 36.85, 36.81, 36.84, 37.0, 36.99, 37.05, 37.07, 37.24, 37.24, 37.07, 37.04, 36.97, 36.98, 37.0, 36.97, 36.95, 36.93, 37.01, 37.15, 37.07, 36.89, 36.79, 36.62, 36.6, 36.44, 36.36, 36.32, 36.35, 36.31, 36.18, 36.15, 36.17, 36.09, 36.08, 36.02, 35.98, 35.91, 36.25, 36.67, 36.7, 36.74, 36.79, 36.84, 36.86, 36.9, 36.99, 36.98, 36.92, 37.06, 37.03, 37.03, 37.06, 36.98, 37.05, 37.08, 37.06, 37.13, 37.08, 37.12, 37.14, 37.06, 37.12, 37.16, 37.16, 37.15, 37.12, 37.2, 37.2, 37.24, 37.25, 37.28, 37.32, 37.28, 37.34, 37.34, 37.37, 37.36, 37.47, 37.53, 37.56, 37.63, 37.56, 37.87, 37.69, 37.55, 37.44, 37.29, 37.19, 37.16, 37.13, 36.99, 36.96, 36.88, 36.84, 36.82, 36.76, 36.81, 36.79, 36.71, 36.72, 36.77, 36.7, 36.74, 36.68, 36.65, 36.7, 36.91, 37.47, 37.46, 37.52, 37.55, 37.59, 37.6, 37.64, 37.69, 37.68, 37.69, 37.74, 37.77, 37.8, 37.79, 37.79, 37.83, 37.85, 37.88, 37.92, 37.95, 38.01, 37.94, 37.95, 37.96, 37.98, 37.94, 38.0, 38.0, 38.01, 38.03, 38.03, 38.03, 38.01, 38.08, 38.11, 38.16, 38.23, 38.18, 38.02, 37.91, 37.75, 37.61, 37.52, 37.44, 37.41, 37.3, 37.23, 37.2, 37.16, 37.11, 37.07, 37.04, 37.02, 36.97, 36.99, 36.9, 36.89, 36.91, 37.54, 37.77, 37.77, 37.86, 37.91, 37.87, 37.95, 37.96, 38.0, 37.99, 38.03, 38.01, 38.02, 38.09, 38.07, 38.1, 38.09, 38.11, 38.13, 38.12, 38.13, 38.15, 38.12, 38.17, 38.16, 38.25, 38.24, 38.23, 38.24, 38.31, 38.31, 38.31, 38.38, 38.47, 38.43, 38.4, 38.41, 38.36, 38.45, 38.61, 38.56, 38.37, 38.22, 38.11, 38.0, 37.88, 37.81, 37.68, 37.58, 37.57, 37.47, 37.43, 37.31, 37.31, 37.26, 37.17, 37.14, 37.05, 37.0, 36.98, 36.94, 36.9, 36.9, 36.9, 36.97, 37.69, 37.82, 37.82, 37.84, 37.88, 37.92, 37.96, 37.97, 37.99, 38.0, 38.03, 38.04, 38.09, 38.11, 38.14, 38.25, 38.3, 38.32, 38.39, 38.39, 38.38, 38.41, 38.46, 38.48, 38.66, 38.53, 38.47, 38.31, 38.15, 38.03, 37.97, 37.81, 37.79, 37.73, 37.75, 37.76, 37.76, 37.83, 37.85, 37.75, 37.71, 37.74, 37.68, 37.64, 37.68, 37.59, 37.94, 38.47, 38.37, 38.44, 38.46, 38.51, 38.55, 38.58, 38.58, 38.62, 38.62, 38.62, 38.66, 38.62, 38.89, 38.78, 38.62, 38.49, 38.43, 38.28, 38.15, 38.02, 37.95, 37.87, 37.86, 37.81, 37.8, 37.73, 37.74, 37.76, 37.69, 37.67, 37.61, 37.6, 37.59, 37.57, 37.57, 37.48, 37.53, 37.47, 37.62, 38.26, 38.3, 38.26, 38.38, 38.39, 38.4, 38.43, 38.47, 38.51, 38.52, 38.55, 38.57, 38.54, 38.54, 38.56, 38.64, 38.63, 38.63, 38.67, 38.7, 38.65, 38.63, 38.66, 38.64, 38.65, 38.69, 38.74, 38.68, 38.52, 38.36, 38.22, 38.01, 37.95, 37.8, 37.78, 37.75, 37.64, 37.57, 37.5, 37.47, 37.4, 37.38, 37.76, 38.2, 38.25, 38.29, 38.35, 38.5, 38.61, 38.64, 38.69, 38.76, 38.78, 38.89, 39.07, 39.06, 39.02, 39.01, 39.23, 39.39, 39.47, 39.37, 39.24, 39.14, 39.06, 38.97, 38.87, 38.82, 38.71, 38.62, 38.67, 38.68, 38.69, 38.69, 38.65, 38.56, 38.51, 38.4, 38.34, 38.28, 38.21, 38.16, 38.75, 38.94, 39.06, 39.07, 39.08, 39.21, 39.25, 39.24, 39.29, 39.37, 39.43, 39.43, 39.45, 39.48, 39.5, 39.53, 39.35, 39.07, 38.91, 38.75, 38.61, 38.5, 38.42, 38.3, 38.26, 38.1, 38.04, 37.99, 37.92, 37.88, 37.73, 37.74, 37.64, 37.57, 37.53, 37.83, 38.08, 38.19, 38.28, 38.42, 38.49, 38.61, 38.6, 38.64, 38.66, 38.68, 38.7, 38.79, 38.79, 38.78, 38.84, 38.9, 38.95, 38.93, 39.02, 38.99, 39.03, 39.1, 39.06, 39.1, 39.12, 39.09, 39.16, 39.2, 39.21, 39.11, 39.17, 39.2, 39.13, 39.15, 39.1, 39.07, 39.08, 39.06, 39.07, 39.14, 39.64, 39.61, 39.55, 39.59, 39.66, 39.64, 39.71, 39.7, 39.75, 39.71, 39.79, 39.85, 39.85, 39.81, 39.79, 39.86, 39.9, 39.9, 39.91, 39.89, 39.91, 39.9, 39.91, 39.95, 39.9, 39.95, 39.92, 40.01, 39.99, 40.01, 39.95, 39.98, 40.05, 40.01, 40.04, 40.01, 40.02, 39.94, 40.06, 40.02, 40.04, 40.03, 40.01, 40.03, 40.01, 40.02, 40.03, 40.04, 39.99, 40.01, 40.04, 40.04, 40.02, 40.04, 40.12, 40.12, 40.09, 40.23, 40.29, 40.31, 40.33, 40.32, 40.38, 40.34, 40.38, 40.32, 40.37, 40.24, 40.19, 40.12, 40.05, 40.02, 39.97, 39.9, 39.9, 39.85, 40.02, 40.01, 39.89, 39.84, 39.86, 39.76, 39.76, 39.73, 39.7, 39.66, 39.71, 39.67, 39.69, 39.67, 39.68, 39.68, 39.63, 39.65, 39.65, 39.64, 39.63, 39.68, 39.74, 40.13, 40.19, 40.23, 40.29, 40.3, 40.26, 40.36, 40.3, 40.3, 40.28, 40.26, 40.31, 40.24, 40.23, 40.21, 40.18, 40.17, 40.17, 40.14, 40.11, 40.09, 40.06, 40.11, 40.06, 40.1, 40.02, 40.01, 39.98, 40.01, 39.99, 40.01, 40.04, 39.99, 40.11, 40.13, 40.06, 39.99, 39.92, 39.86, 39.85, 39.82, 39.73, 39.73, 39.75, 39.69, 39.66, 39.69, 39.62, 39.6, 39.61, 39.53, 39.57, 39.51, 39.48, 39.53, 39.5, 39.48, 39.5, 39.5, 39.5, 39.52, 39.5, 39.51, 39.47, 39.49, 39.5, 39.52, 39.51, 39.47, 39.46, 39.45, 39.39, 39.43, 39.41, 39.38, 39.39, 39.38, 39.38, 39.39, 39.36, 39.38, 39.36, 39.41, 39.38, 39.31, 39.36, 39.32, 39.35, 39.28, 39.33, 39.35, 39.27, 39.32, 39.33, 39.31, 39.33, 39.3, 39.78, 40.14, 40.02, 40.29, 40.23, 40.14, 40.12, 40.06, 39.88, 39.77, 39.69, 39.61, 39.52, 39.48, 39.42, 39.42, 39.37, 39.38, 39.37, 39.35, 39.38, 39.32, 39.3, 39.25, 39.28, 39.27, 39.28, 39.24, 39.19, 39.2, 39.16, 39.15, 39.16, 39.15, 39.1, 39.15, 39.07, 39.09, 39.1, 39.07, 39.08, 39.08, 39.12, 39.12, 39.15, 39.17, 39.12, 39.08, 39.1, 39.11, 39.14, 39.14, 39.11, 39.09, 39.1, 39.11, 39.09, 39.1, 39.1, 39.06, 39.11, 39.09, 39.07, 39.06, 39.11, 39.11, 39.12, 39.12};
// ========================================= //

// // These store 1 reading per minute
// float temperature_array[TEMP_HUMID_ARR_SIZE];
// float humidity_array[TEMP_HUMID_ARR_SIZE];

float min_temp = 1000;
float max_temp=-1000;

float min_humid = 1000;
float max_humid=-1000;

bool enableHeater = false;
uint8_t loopCnt = 0;

float read_temp(Adafruit_SHT31* sht31);
float read_humid(Adafruit_SHT31* sht31);
void temp_humid_manager(time_t TimeStamp, Adafruit_SHT31* sht31);
void print_temp_array();
void print_humid_array();
void init_temp_humid_sensor(Adafruit_SHT31* sht31);

// ---------------------------------------------------------------------------- //
float read_temp(Adafruit_SHT31* sht31){
	float t = sht31->readTemperature();
	return t;
}

float read_humid(Adafruit_SHT31* sht31){
	float h = sht31->readHumidity();
	return h;
}

// ---------------------------------------------------------------------------- //
void temp_humid_manager(time_t TimeStamp, Adafruit_SHT31* sht31)
/* Reads temp/humid values and assigns them to corresponding index 0 to 1399 */
{
	LOG_TRACE("");
	// Temp / humid read
	float h=read_humid(sht31);
	float t=read_temp(sht31);

	// Check for min & max vals
	if (t>max_temp)
		max_temp=t;
	if (t<min_temp)
		min_temp=t;

	if (h>max_humid)
		max_humid=h;
	if (h<min_humid)
		min_humid=h;

	uint16_t now_minute=get_minute_of_day(now()+TIME_ZONE_DIFF_SECS);

	temperature_array[now_minute-1]=t;
	humidity_array[now_minute-1]=h;

	// Serial.println("now_minute: "+String(now_minute)+" | T: "+String(t)+" | H: "+String(h));

}

// ---------------------------------------------------------------------------- //
void print_temp_array()
/* Print entire array */
{
	Serial.println("temperature_array: ");
	for (int i=0;i<TEMP_HUMID_ARR_SIZE;i++){
			Serial.print (String(temperature_array[i])+" ");
			if (i%19==0)
				Serial.println();
			// humidity_array[i]=0;
		}
		Serial.println();
}

void print_humid_array()
/* Print entire array */
{
	Serial.println("humidity_array_array: ");
	for (int i=0;i<TEMP_HUMID_ARR_SIZE;i++){
			Serial.print (String(humidity_array[i])+" ");
			if (i%19==0)
				Serial.println();
			// humidity_array[i]=0;
		}
}

// ---------------------------------------------------------------------------- //
void init_temp_humid_sensor(Adafruit_SHT31* sht31)
/* Initialize SHT31 sensor. Init temp & humid arrays
   for 1440 minutes (i.e. 1 per min of day) */
{
	// Temperature & humidity sensor
	sht31->begin(SHT31_I2C_ADDR);
	// for (int i=0;i<TEMP_HUMID_ARR_SIZE;i++){
	// 	temperature_array[i]=0;
	// 	humidity_array[i]=0;
	// }
}